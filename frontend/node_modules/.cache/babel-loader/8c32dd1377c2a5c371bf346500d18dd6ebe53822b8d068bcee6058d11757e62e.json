{"ast":null,"code":"import _objectSpread from\"D:/AliMunishiApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Importo navigimin\nimport\"../styles/login.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){let{onLogin}=_ref;const[form,setForm]=useState({username:\"\",password:\"\"});const[error,setError]=useState(\"\");const navigate=useNavigate();// Inicializo\nconst handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setError(\"\");const{username,password}=form;try{const res=await fetch(\"https://ujesjellesi.onrender.com/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})});if(!res.ok){const errorData=await res.json();alert(errorData.error||\"Gabim gjatë logimit\");return;}const data=await res.json();onLogin(data);// Vendos user-in në App.jsx\n// Ridhrejto pas logimit\nnavigate(\"/\");// ose \"/dashboard\" nëse e ke të ndarë\n}catch(error){alert(\"Gabim gjatë komunikimit me serverin\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/alimunishi.png\",alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Uj\\xEBsjell\\xEBsi \\\"Ali Munishi\\\"\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",value:form.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:form.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Ky\\xE7u\"})]})]});}","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","form","setForm","username","password","error","setError","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","errorData","json","alert","data","className","children","src","alt","onSubmit","type","placeholder","onChange","required"],"sources":["D:/AliMunishiApp/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\"; // Importo navigimin\r\nimport \"../styles/login.css\";\r\n\r\n\r\nexport default function Login({ onLogin }) {\r\n  const [form, setForm] = useState({ username: \"\", password: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate(); // Inicializo\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    const { username, password } = form;\r\n\r\n    try {\r\n      const res = await fetch(\"https://ujesjellesi.onrender.com/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json();\r\n        alert(errorData.error || \"Gabim gjatë logimit\");\r\n        return;\r\n      }\r\n\r\n      const data = await res.json();\r\n      onLogin(data); // Vendos user-in në App.jsx\r\n\r\n      // Ridhrejto pas logimit\r\n      navigate(\"/\"); // ose \"/dashboard\" nëse e ke të ndarë\r\n    } catch (error) {\r\n      alert(\"Gabim gjatë komunikimit me serverin\");\r\n    }\r\n  };\r\n\r\n  return (\r\n  <div className=\"login-page\">\r\n    <img src=\"/alimunishi.png\" alt=\"Logo\" className=\"logo\" />\r\n    <h1>Ujësjellësi \"Ali Munishi\"</h1>\r\n    <form onSubmit={handleSubmit}>\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      <input\r\n        type=\"text\"\r\n        name=\"username\"\r\n        placeholder=\"Username\"\r\n        value={form.username}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"Password\"\r\n        value={form.password}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <button type=\"submit\">Kyçu</button>\r\n    </form>\r\n  </div>\r\n);\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}